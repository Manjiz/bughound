<style>
@charset 'UTF-8';

.header{padding:20px;background:#FFFFFF;color:#B53B3B;border-bottom-left-radius:5px;border-bottom-right-radius:5px;}
    .header h2{font-size:16px;text-align:center;font-weight:normal;padding:10px 0;}
    .header p{font-size:12px;text-align:center;color:#C0C0C0;}
    #num{font-size:20px;display:block;text-align:center;color:#B53B3B;margin:0 20px;border-bottom:1px solid #B53B3B;padding:10px 0;font-family:Georgia, "Trebuchet MS";}
.notice{text-align:center;font-size:20px;padding:100px 0 20px;background-image:url(../public/img/bow.png);background-repeat:no-repeat;background-position:center;}

#refresh, #checkthis{display:block;text-align:center;margin:20px;padding:10px 0;border:1px solid #666666;border-radius:4px;}
    #refresh:active, #checkthis:active{background:#FFFFFF;}

        
        .form_pic{position:relative;text-align:center;margin:0 15px;padding:10px 0;overflow:hidden;}
            .form_pic_txt{}
            /*.form_pic_upfile{width:100%;position:absolute;right:-200%;opacity:0;}*/
            .form_pic_cpics{padding-bottom:5px;}
                .form_pic_cpics:after{display:block;content:"";font-size:0;height:0;clear:both;visibility:hidden;}
                .form_pic_cpics_item{width:65px;height:65px;float:left;position:relative;margin:0 10px 10px 0;background:#666666;}
                    .form_pic_cpics_img{width:100%;height:100%;position:relative;overflow:hidden;}
                        .form_pic_cpics_img img{width:100%;height:auto;display:block;position:relative;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);}
                    .uploading{width:100%;height:100%;line-height:64px;position:absolute;top:0;left:0;background:rgba(0,0,0,0.3);text-align:center;color:#FFFFFF;}
                        .uploading:after{width:100%;height:100%;position:absolute;content:"";top:0;left:0;background-repeat:no-repeat;background-position:center center;background-size:100% auto;z-index:5;-webkit-animation:bugCrawling linear .25s infinite;animation:upbugCrawling linear .25s infinite;}
                        @-webkit-keyframes upbugCrawling{
                            0%{background-image:url(../img/upbug_frame1.png);}
                            100%{background-image:url(../img/upbug_frame2.png);}
                        }
                        .uploading .bar, .uploading .bar i{position:absolute;}
                        .uploading .bar{width:80%;height:80%;background:rgba(255,255,255,0.5);top:50%;left:10%;-webkit-transform:translateY(-50%);transform:translateY(-50%);z-index:4;}
                        .uploading .bar i{width:100%;bottom:0;left:0;background:rgba(255,255,255,0.6);-webkit-transition:all ease .2s;transition:all ease .2s;}
                    .form_pic_cpics_del{width:20px;height:20px;display:block;position:absolute;top:-10px;right:-10px;font:0/0 a;}
                        .form_pic_cpics_del:after{width:13px;height:13px;background-repeat:no-repeat;background-size:100% auto;background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaBAMAAABbZFH9AAAALVBMVEUAAADgJCjgJCjgJCjgJCjgJCjgJCjgJCjgJCjgJCjgJCjgJCjgJCjgJCjgJChkueuqAAAADnRSTlMAzFXumRHdM3dmu4giRI27ECAAAACsSURBVBjTY8AEnI6CIhNgnGi7d+/ePd4K4bDnvQOBZwVg3uR3EGAJlrKD8h6DJMPewUAqkOcH5z1hYOB5hwAFDBxIvAYGLiSeAAPbu3dNSiCg8e6dAQPfu3cBYGtZ3717isoDqTwA5vGAVDK+e5coCALCQFNQbNjAwI7Eu8DAsA7OeQXUrQfnPQLyWOA8B5DRfggvgCThUmAwDczJhAVal927xysQAcquBAkwAEYzsNmEpD/PAAAAAElFTkSuQmCC');position:absolute;top:50%;left:50%;content:"";-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);}
                .form_pic_cpics_add{width:74px;height:74px;border-radius:37px;font:0/0 a;color:#FFFFFF;margin:10px auto;background:#D82C2C url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABBBAMAAAB82dR2AAAAFVBMVEUAAAD///////////////////////9Iz20EAAAABnRSTlMA7pEGiYjxEaxMAAAAW0lEQVRIx2MYBXiBkaAyARVqaakEVIilJRJQkZaWNqpiVMVAqGBWTEMCCK6QAUwFUxoyQOIGwFQwoqpAcAUIqyBoiwNhlw62MB1VMSJUEC7X1dJSiKhfRgE+AAB/A2SmfRd/9gAAAABJRU5ErkJggg==') no-repeat center center; background-size:63px auto;}
                ::-ms-browse, [type='file'] {width:74px;height:74px;opacity:0;}
                ::-webkit-file-upload-button {width:74px;height:74px;opacity:0;}
                .form_pic_cpics_add input.inp {width:74px;height:74px;opacity:0;}
            .form_pic_cnotice{line-height:16px;font-size:12px;color:#999999;}
    #cvs{position:absolute;z-index:-1;left:-1000%;opacity:0;}
.form_pic_added{padding-bottom:0;}
    .form_pic_added .form_pic_cpics_add{width:65px;height:65px;float:left;border-radius:0;margin:0;}
    .form_pic_added .form_pic_txt{display:none;}
    .form_submit{}
        .disabled{background:#A6A6A6;}
    .form_info{display:block;color:#2177D8;text-align:right;padding:15px 0 15px 15px;float:right;}

/* 整理区 */
.wrap {padding:0 15px;}
.form {margin:15px 0;}
    dl.form>dt {margin: 0 0 6px;}
    dl.form>dd {margin-left:0;}
    .formfield_desc {width:100%;font-size:14px;line-height:21px;min-height:58px;resize: vertical;}



.submiting{width:130px;height:66px;line-height:66px;position:fixed;top:50%;left:50%;background:rgba(0,0,0,0.5);border-radius:5px;font:0/0 a;text-align:center;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);}
    .submiting:after{width:26px;height:26px;border-radius:26px;border:2px solid #FFFFFF;border-top:none;border-right:none;position:absolute;content:"";top:50%;left:50%;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);-webkit-animation:rotate linear 1s infinite;animation:rotate linear 1s infinite;}
    @-webkit-keyframes rotate{
        0%{-webkit-transform:translate(-50%, -50%) rotate(0deg);}
        100%{-webkit-transform:translate(-50%, -50%) rotate(360deg);}
    }
    @keyframes rotate{
        0%{transform:translate(-50%, -50%) rotate(0deg);}
        100%{transform:translate(-50%, -50%) rotate(360deg);}
    }
</style>

<form class="cont_form" ng-hide="isSubmitSucc">
    <div class="form_pic {{filesList.length>0 ? 'form_pic_added' : ''}}">
        <!-- ctrler = controller -->
        <div class="form_pic_ctrler">
            <!-- cpics = controller pictures -->
            <div class="form_pic_cpics">
                <canvas id="cvs"></canvas>
                <div id="preview">
                    <div ng-repeat="item in filesList" id="uploadList_{{item.index}}" class="form_pic_cpics_item" data-index="{{item.index}}">
                        <div class="form_pic_cpics_img"><img id="uploadImage_{{item.index}}" ng-src="{{item.src}}"></div>
                        <a class="form_pic_cpics_del" ng-click="delFile($index)">删除</a>
                        <!-- <span class="uploading" id="uploadProgress_{{item.index}}" style="display:none;"><span class="bar"><i></i></span></span> -->
                    </div>
                </div>
                <div class="form_pic_cpics_add">
                    <input class="inp" type="file" name="fileselect[]" id="fileImage" multiple file-model="myFile">
                </div>
                <div class="form_pic_cpics_json" id="fileImageLinks"></div>
            </div>
            <!-- cnotice = controller notice -->
            <div class="form_pic_txt">上传bug截图</div>
        </div>
    </div>
    
    <div class="wrap">
        <dl class="form">
            <dt><label for="">* 需求名称</label></dt>
            <dd><input class="inp" type="text" style="width:100%;" placeholder="业务-需求名称" ng-model="bugPageTit"></dd>
        </dl>
        <dl class="form">
            <dt><label for="">bug描述</label></dt>
            <dd><textarea class="formfield_desc" placeholder="Bug描述" ng-model="bugDesc"></textarea></dd>
        </dl>
        <dl class="form">
            <dt><label for="">* 预览地址</label></dt>
            <dd><input class="inp" type="text" style="width:100%;" placeholder="预览地址" ng-model="bugPageUrl"></dd>
        </dl>
        <p><button class="btn" type="button" ng-click="submit()">提交bug</button></p>
    </div>
</form>
<div class="header" ng-show="isSubmitSucc">
    <div id="num" ng-bind="bugid"></div>
    <h2>系统为您分配bug编号</h2>
    <p>请将编号复制给开发人员</p>
</div>

<span class="submiting" ng-if="showSubmiting">提交中</span>
<a href="#" id="checkthis" ng-show="isSubmitSucc" ui-sref="detail({id:bugid})">查看当前需求</a>
<a href="#" id="refresh" ng-show="isSubmitSucc" ui-sref="apply" ui-sref-opts="{reload: true}">继续提需求</a>